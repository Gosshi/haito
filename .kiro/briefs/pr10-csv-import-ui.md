# PR#10: CSVインポートUI基盤 - ファイルアップロード・プレビュー画面

## 参照ドキュメント
- docs/product_phase2.md「F6: CSV一括インポート」節
- docs/product_phase2.md「機能詳細」（L49-56）
- docs/product_phase2.md「UI」（L58-60）

## 目的
CSVファイルをアップロードし、パース結果をプレビュー表示するUI基盤を実装する。
ユーザーがインポート前に内容を確認・修正できるようにする。

## 範囲

### In scope
- `/portfolio/import` ページ新規作成
- ファイルアップロードコンポーネント（ドラッグ&ドロップ + ファイル選択）
- CSVプレビューテーブル（パース結果表示）
- バリデーションエラー行のハイライト表示
- `/portfolio` ページに「CSVインポート」ボタン追加（リンクのみ）
- PR#9で作成した `lib/csv/` を使用してパース

### Out of scope
- 一括登録API呼び出し（PR#11で対応）
- 重複チェック表示（PR#11で対応）
- SBI/楽天フォーマット自動検出UI（PR#12, #13で対応）
- フォーマット選択ドロップダウン（現時点では汎用のみ）

## 技術固定（変更禁止）
- UI: shadcn/ui コンポーネント使用
- ファイル配置: `app/portfolio/import/page.tsx`
- コンポーネント配置: `components/csv/`
- PR#9の `lib/csv/` をそのまま使用（変更禁止）

## 受け入れ条件（AC）
- [ ] `/portfolio` ページに「CSVインポート」ボタンが表示される
- [ ] ボタンクリックで `/portfolio/import` ページに遷移する
- [ ] `/portfolio/import` ページが以下を含む
  - ファイルアップロードエリア（ドラッグ&ドロップ対応）
  - 「ファイルを選択」ボタン
  - アップロード可能形式の説明テキスト
- [ ] CSVファイルアップロード後、プレビューテーブルが表示される
- [ ] プレビューテーブルに以下カラムが表示される
  - 行番号、銘柄コード、銘柄名、保有株数、取得単価、口座種別、ステータス
- [ ] バリデーションエラー行は赤色でハイライトされる
- [ ] エラー行にはエラー理由がツールチップまたはカラムで表示される
- [ ] 正常行数・エラー行数のサマリーが表示される
- [ ] 「インポート実行」ボタンが表示される（クリック時は未実装のトースト表示）
- [ ] 「キャンセル」ボタンで `/portfolio` に戻る

## 禁止事項
- PR#9 `lib/csv/` のコード変更
- API エンドポイントの追加
- DBアクセス
- 既存の `/portfolio` ページのレイアウト大幅変更（ボタン追加のみ許可）

## 成果物
1. **コード:**
   - `app/portfolio/import/page.tsx`
   - `components/csv/file-upload.tsx`
   - `components/csv/preview-table.tsx`
   - `components/csv/import-summary.tsx`
   - `app/portfolio/page.tsx`（ボタン追加のみ）
2. **PR要約:** CSVインポートUI基盤を追加。ファイルアップロード・プレビュー機能。

## 質問（最大3つ）
なし
