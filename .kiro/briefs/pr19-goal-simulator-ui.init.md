# PR#19: 配当ロードマップUI（単一シナリオ）

## 目的
- PR#18で提供される「配当目標シミュレーションAPI」の結果を、ユーザーが操作できるUIとして提供する。
- 本PRでは “配当ロードマップ” という言語と体験（前提条件→試算→推移→レバー）を確立する。

## 背景 / 狙い
- 既存の配当管理は「現在の可視化」に偏りがちで、ユーザーの意思決定（目標までの距離・レバーの効き）に繋がらない。
- 本PRは「配当の現在→目標→道筋」を1画面で操作できる状態を作る。

## スコープ

### In scope
- 新規ページの追加（配当ロードマップ）
  - ルート例：`/dashboard/roadmap`（※既存のルーティング規約に合わせる）
- 前提条件入力フォーム（数値入力 + スライダー同期）
  - 年間配当ゴール
  - 毎月の追加投資額
  - 期間（年）
  - 想定利回り
  - 想定増配率
  - 税区分（税引前 / 税引後）
- API実行と結果表示（単一シナリオ）
  - KPIカード：現在配当 / ゴール / 達成年数 / 最終年の年間配当（試算）
  - 折れ線グラフ：series（year, annual_dividend）
  - レバー表示：recommendations（差分のまま表示）
- 初期値の採用
  - user_settings：目標/期限など
  - API snapshot：現在配当/現状利回り（ある場合）
- 未認証/エラー時の表示（共通エラーJSONに追従）

### Out of scope
- 保存/履歴（PR#22）
- シナリオ比較（PR#20）
- ストレステスト（PR#21）
- 課金ロック/アップセル（PR#23）
- API仕様・計算式・データ取得ロジックの変更（PR#18の契約は変更しない）

## 技術固定（変更禁止）
- 本PRは UI 実装のみ。APIルート/計算ロジックの改変は禁止（PR#18に依存）。
- 推奨カードは API の `recommendations[]` を “そのまま” 表示し、UI側で解釈ロジックを追加しない。
- 既存のスタイル/命名/ディレクトリ構造に合わせる。
- 助言表現は禁止（「予測」「おすすめ銘柄」「買うべき」等）。

## UIコピー（固定）
- 画面ヘッダー：配当ロードマップ
- 入力セクション：ロードマップの前提条件
- サマリー：ロードマップ概要
- グラフ：配当の推移（ロードマップ）
- レバー：効きやすいレバー（感度チェック）
- 注意文（短文で可）：
  - 入力した条件に基づく試算です。特定の投資商品を勧めるものではありません。

## 受け入れ条件（AC）
- [ ] `/dashboard/roadmap`（または既存規約に沿うURL）で画面にアクセスできる
- [ ] 入力 → API実行 → KPI/グラフ/レバーが同一画面で更新される
- [ ] 入力UIは「数値入力 + スライダー同期」になっている
- [ ] KPIカードが表示される
  - 現在の年間配当
  - 配当ゴール
  - ゴール到達までの年数（未達なら未達表現）
  - 最終年の年間配当（試算）
- [ ] 折れ線グラフが表示される
  - x: year
  - y: annual_dividend
  - 目標ライン（target）が表示される（実装方式は任意）
- [ ] recommendations がカードとして2件表示される（差分のまま）
- [ ] APIが401/400/500を返した場合、画面が破綻せず適切にエラー表示される（共通エラーJSONに追従）
- [ ] PR#18が未完の間はモックで開発してよいが、最終的にAPI接続される（モックは残さない/切替可能にする）

## 実装メモ（任意・設計の目安）
- コンポーネント分割例：
  - RoadmapForm（前提条件）
  - RoadmapSummary（KPI）
  - RoadmapChart（推移グラフ）
  - RoadmapLevers（レバー/感度）
- 既存のdashboardコンポーネント設計があればそれに寄せる。

## 質問（最大3つ）
- なし
