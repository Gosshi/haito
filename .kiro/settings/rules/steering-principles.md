# ステアリング原則

ステアリングファイルは**プロジェクトメモリ**であり、網羅的な仕様ではありません。

---

## コンテンツの粒度

### ゴールデンルール
> 「新しいコードが既存のパターンに従う場合、ステアリングの更新は不要」

### ✅ 文書化する
- 組織パターン（機能優先、レイヤード）
- 命名規則（PascalCaseルール）
- インポート戦略（絶対 vs 相対）
- アーキテクチャ決定（状態管理）
- 技術標準（主要なフレームワーク）

### ❌ 避ける
- 完全なファイルリスト
- すべてのコンポーネントの説明
- すべての依存関係
- 実装の詳細
- エージェント固有のツールディレクトリ（例: `.cursor/`, `.gemini/`, `.claude/`）
- `.kiro/`メタデータディレクトリ（settings、automation）の詳細なドキュメント

### 例の比較

**悪い例**（仕様のような）:
```markdown
- /components/Button.tsx - バリアント付きのプライマリボタン
- /components/Input.tsx - バリデーション付きのテキスト入力
- /components/Modal.tsx - モーダルダイアログ
... (50以上のファイル)
```

**良い例**（プロジェクトメモリ）:
```markdown
## UIコンポーネント (`/components/ui/`)
再利用可能な、デザインシステムに整合したプリミティブ
- 機能による命名（Button, Input, Modal）
- コンポーネント + TypeScriptインターフェースをエクスポート
- ビジネスロジックなし
```

---

## セキュリティ

以下を決して含めない:
- APIキー、パスワード、認証情報
- データベースURL、内部IP
- シークレットまたは機密データ

---

## 品質標準

- **単一ドメイン**: ファイルごとに1つのトピック
- **具体的な例**: パターンをコードで示す
- **根拠を説明**: なぜその決定がなされたか
- **保守可能なサイズ**: 通常100〜200行

---

## 保存（更新時）

- ユーザーセクションとカスタム例を保存する
- デフォルトで追加的（置き換えではなく追加）
- `updated_at`タイムスタンプを追加
- なぜ変更が行われたかを記録

---

## 注記

- テンプレートは出発点であり、必要に応じてカスタマイズする
- コアステアリングと同じ粒度の原則に従う
- すべてのステアリングファイルがプロジェクトメモリとしてロードされる
- `.kiro/specs/`と`.kiro/steering/`への軽い参照は許容。他の`.kiro/`ディレクトリは避ける
- カスタムファイルはコアファイルと同等に重要

---

## ファイル固有のフォーカス

- **product.md**: 目的、価値、ビジネスコンテキスト（網羅的な機能ではない）
- **tech.md**: 主要なフレームワーク、標準、規約（すべての依存関係ではない）
- **structure.md**: 組織パターン、命名ルール（ディレクトリツリーではない）
- **カスタムファイル**: 専門パターン（API、テスト、セキュリティなど）
