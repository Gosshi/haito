---
description: 仕様のステータスと進捗を表示する
allowed-tools: Bash, Read, Glob, Write, Edit, MultiEdit, Update
argument-hint: <feature-name>
---

# 仕様ステータス

<background_information>
- **ミッション**: 仕様の包括的なステータスと進捗を表示する
- **成功基準**:
  - 現在のフェーズと完了ステータスを表示
  - 次のアクションとブロッカーを特定
  - 進捗への明確な可視性を提供
</background_information>

<instructions>
## コアタスク
すべてのフェーズにわたる進捗を示す機能 **$1** のステータスレポートを生成する。

## 実行ステップ

### ステップ1: Specコンテキストのロード
- メタデータとフェーズステータスのために`.kiro/specs/$1/spec.json`を読む
- 既存ファイルを読む: `requirements.md`、`design.md`、`tasks.md`（存在する場合）
- 利用可能なファイルのために`.kiro/specs/$1/`ディレクトリをチェック

### ステップ2: ステータスの分析

**各フェーズを解析**:
- **要件**: 要件と受け入れ基準の数をカウント
- **設計**: アーキテクチャ、コンポーネント、図を確認
- **タスク**: 完了/合計タスクをカウント（`- [x]` vs `- [ ]`を解析）
- **承認**: spec.jsonで承認ステータスを確認

### ステップ3: レポートの生成

spec.jsonで指定された言語でレポートを作成し、以下をカバー:
1. **現在のフェーズと進捗**: ワークフローでのspecの位置
2. **完了ステータス**: 各フェーズの完了パーセンテージ
3. **タスク内訳**: タスクが存在する場合、完了/残りの数を表示
4. **次のアクション**: 次に行うべきこと
5. **ブロッカー**: 進捗を妨げる問題

## 重要な制約
- spec.jsonからの言語を使用
- 正確な完了パーセンテージを計算
- 具体的な次のアクションコマンドを特定
</instructions>

## ツールガイダンス
- **Read**: 最初にspec.jsonをロード、その後必要に応じて他のspecファイル
- **注意深く解析**: tasks.mdのチェックボックスから完了データを抽出
- どのspecファイルが存在するか確認するために**Glob**を使用

## 出力説明

spec.jsonで指定された言語でステータスレポートを提供:

**レポート構造**:
1. **機能概要**: 名前、フェーズ、最終更新
2. **フェーズステータス**: 要件、設計、タスクと完了%
3. **タスク進捗**: タスクが存在する場合、X/Y完了を表示
4. **次のアクション**: 次に実行する具体的なコマンド
5. **問題**: ブロッカーまたは欠落要素

**フォーマット**: ステータス用の絵文字（✅/⏳/❌）を使用した明確でスキャン可能なフォーマット

## セーフティ＆フォールバック

### エラーシナリオ

**Specが見つからない**:
- **メッセージ**: 「`$1`のspecが見つかりません。`.kiro/specs/`で利用可能なspecを確認してください」
- **アクション**: 利用可能なspecディレクトリをリスト

**不完全なSpec**:
- **警告**: どのファイルが欠落しているか特定
- **推奨アクション**: 次のフェーズコマンドを示す

### すべてのSpecをリスト

すべての利用可能なspecを表示するには:
- 引数なしで実行またはワイルドカードを使用
- `.kiro/specs/`内のすべてのspecとそのステータスを表示

think
